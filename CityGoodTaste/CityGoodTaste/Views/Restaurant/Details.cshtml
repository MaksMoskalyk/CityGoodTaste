@model CityGoodTaste.Models.Restaurant

@{
    ViewBag.Title = "Restaurant";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="~/Scripts/Custom/RUS.js"></script>
@{
    string language = @CityGoodTaste.Controllers.HomeController.getCulture();
    string path = "~/Scripts/Custom/Localization/datepicker-" + language + ".js";
    <script src="~/Scripts/Custom/" + @language></script>
}

@*<link href="~/Content/icons/SchemaIcons/Table/style.css" rel="stylesheet" />
    <script src="~/Content/icons/SchemaIcons/Table/svgxuse.js"></script>

    <svg style="position: absolute; width: 0; height: 0; overflow: hidden" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <defs>
            <symbol id="icon-table" viewBox="0 0 32 32">
                <title>table</title>
                <path d="M1 10.875v1.125h6.675l-1.45 4.925c-0.8 2.725-1.475 5.025-1.475 5.125 0 0.125 1.1 0.2 2.45 0.2h2.425l0.75-2.625 0.725-2.625h9.55l0.725 2.625 0.75 2.625h2.425c1.35 0 2.45-0.075 2.45-0.2 0-0.1-0.65-2.375-1.45-5.050l-1.45-4.875 6.9-0.15v-2.225h-30v1.125zM30.5 10.875v0.625h-29v-1.25h29v0.625zM12 12.275c0 0.15-0.125 0.475-0.25 0.75-0.25 0.45-0.15 0.475 4.125 0.475s4.375-0.025 4.125-0.475c-0.5-0.95-0.325-1.050 1.65-0.975l1.9 0.075 1.45 4.8 1.425 4.825h-3.85l-0.8-2.7-0.825-2.675h-10.15l-0.825 2.675-0.8 2.7h-3.85l1.35-4.575c0.75-2.5 1.4-4.7 1.45-4.875 0.15-0.375 3.875-0.425 3.875-0.025zM19.325 12.5c0.125 0.475 0 0.5-3.45 0.5s-3.575-0.025-3.45-0.5c0.125-0.475 0.35-0.5 3.45-0.5s3.325 0.025 3.45 0.5z"></path>
            </symbol>
        </defs>
    </svg>

    <div class="form-group">
        <svg class="icon icon-table table"><use xlink:href="#icon-table"></use></svg>
    </div>*@


<div class="container-fluid NoPadding" style="margin-left: auto; margin-right: auto">
    <div class="col-sm-9">
        <div class="jumbotron" style="padding:0">
            <img src="https://placehold.it/2000x400?text=IMAGE" alt="img" class="img-responsive" />
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div>
                    @Html.LabelFor(model => model.Name)
                    @Html.DisplayFor(model => model.Name)
                </div>
                <div>
                    @Html.LabelFor(model => model.Address)
                    @Html.DisplayFor(model => model.Address) @Html.DisplayFor(model => model.City.Name) @Html.DisplayFor(model => model.City.Country.Name)
                </div>
            </div>
            <div class="col-sm-4">
                <div>
                    @Html.LabelFor(model => model.Likes)
                    <span class="badge">@Html.DisplayFor(model => model.Likes.Count)</span>
                </div>
                <div>
                    @Html.LabelFor(model => model.AverageCheck)
                    <span class="badge">@Html.DisplayFor(model => model.AverageCheck)</span>
                </div>
            </div>
        </div>
        <div>
            <div>
                <ul class="nav nav-tabs">
                    <li class="active"><a data-toggle="tab" href="#review">Обзор</a></li>
                    <li><a data-toggle="tab" href="#menuRest">Меню</a></li>
                    <li><a data-toggle="tab" href="#notice">Афиша</a></li>
                    <li><a data-toggle="tab" href="#reviews">Отзовы</a></li>
                </ul>

                <div class="tab-content">
                    <div id="review" class="tab-pane fade in active">
                        <div>
                            <h2>@Html.LabelFor(model => model.InformationAbout)</h2>
                            <p>@Html.DisplayFor(model => model.InformationAbout)</p>
                        </div>
                        <div>
                            <h2>@Html.LabelFor(model => model.RestaurantFeatures)</h2>
                            <div class="row">
                                @for (int i = 0; i < Model.RestaurantFeatures.Count; i++)
                                {
                                    <div class="col-sm-4">@Model.RestaurantFeatures.ElementAt(i).Name</div>
                                }
                            </div>
                        </div>
                        <div>
                            <h2>@Html.LabelFor(model => model.WorkHours)</h2>
                            <table class="table table-responsive">
                                <thead>
                                    <tr>
                                        <th>ПН</th>
                                        <th>ВТ</th>
                                        <th>СР</th>
                                        <th>ЧТ</th>
                                        <th>ПТ</th>
                                        <th>СБ</th>
                                        <th>ВС</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        @for (int i = 0; i < Model.WorkHours.Count; i++)
                                        {
                                            <th>@Model.WorkHours.ElementAt(i).OpenHour.Hours - @Model.WorkHours.ElementAt(i).CloseHour.Hours</th>
                                        }
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div>
                            <h2>@Html.LabelFor(model => model.PhoneNumber)</h2>
                            @Html.DisplayFor(model => model.PhoneNumber)
                        </div>
                        <div>
                            <h2>@Html.LabelFor(model => model.Address)</h2>
                            @Html.DisplayFor(model => model.Address) @Html.DisplayFor(model => model.City.Name) @Html.DisplayFor(model => model.City.Country.Name) @Html.DisplayFor(model => model.ZipCode)
                            <div id="googleMap" style="height:400px;width:100%"></div>
                            <script>
                                function myMap() {
                                    var myCenter = new google.maps.LatLng(46.477416, 30.746928);
                                    var mapProp = { center: myCenter, zoom: 18, scrollwheel: false, draggable: false, mapTypeId: google.maps.MapTypeId.ROADMAP };
                                    var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
                                    var marker = new google.maps.Marker({ position: myCenter });
                                    marker.setMap(map);
                                }
                            </script>
                            <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDRO1uVeSSy5wTZOpDY0kGJR2347oaWJQ4&callback=myMap" async defer></script>
                        </div>
                        <br />
                    </div>
                    <div id="menuRest" class="tab-pane fade">
                        <h2>Меню</h2>
                        <ul class="nav nav-tabs">
                            <li class="active"><a data-toggle="tab" href="#menu1">menu1</a></li>
                        </ul>
                        <div class="tab-content">
                            <div id="menu1" class="tab-pane fade in active">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="well">
                                            <table>
                                                <tr>
                                                    <td>
                                                        <img class="img-thumbnail" src="https://placehold.it/100x100?text=Пицца" alt="Image">
                                                    </td>
                                                    <td>
                                                        <h3 class="MenuHeadText">Паста</h3>
                                                        <p>описание</p>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="notice" class="tab-pane fade">
                        <img src="https://placehold.it/1000x400?text=Событие" alt="Image">
                        <h2>Живая джазовая музыка каждую неделю в ресторане "Три Резвых Коня"!</h2>
                        <p class="WordBreak">Еженедельно в ресторане "Три Резвых Коня" играет живая джазовая музыка. Джаз - это не просто музыка, это сочетание прекрасного настроения и отдыха, получения приятных эмоций, а специфика звучания позволяет вкладывать всю душу и чувства в каждую ноту. Ждем вас! </p>
                        <p class="WordBreak">Период действия: каждый четверг, пятницу и субботу, начало в 20:00.</p>
                    </div>
                    <div id="reviews" class="tab-pane fade">
                        <h2>@Html.LabelFor(model => model.Reviews)</h2>
                        @foreach (var item in Model.Reviews)
                        {
                            <div class="row ">
                                <div class="col-sm-12">
                                    <div>
                                        <table style="border-spacing: 5px 5px; border-collapse:unset">
                                            <tr>
                                                <td class="well" style="border-radius:20px; padding:10px;">
                                                    <img src="https://placehold.it/90x90?text=Аватар" class="img-circle" width="90" height="90" alt="Avatar">
                                                    <br />
                                                    <h4 style="text-align:center">@item.User.Name</h4>
                                                </td>
                                                <td class="well" style="width:100%; border-radius:20px;padding:10px; vertical-align:top">
                                                    <p><span class="glyphicon glyphicon-time"> @item.Date.ToString()</span></p>
                                                    <p>@item.Text</p>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-sm-3 text-center">
        <div class="panel panel-default ">
            <div class="panel-heading">
                <p>НАЧАТЬ РЕЗЕРВ</p>
            </div>

            <div class="panel-body text-center center-block">
                <p>ДАТА</p>
                <div class="center-block datepicker" id="dp6" data-date="12-02-2012" data-date-format="dd-mm-yyyy"></div>
            </div>

            <div class="panel-footer">
                <p>ВРЕМЯ</p>
                <div class="form-group center-block">
                    <div class="input-group clockpicker ">
                        <input type="text" class="form-control" value="09:30">
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-time"></span>
                        </span>
                    </div>
                </div>
            </div>

            <div class="panel-body">
                ВЫБРАТЬ СТОЛИК
                <div class="center-block row">
                    <a data-toggle="modal" data-target="#SchemaModal" href="#">
                        <img src="https://placehold.it/250x150?text=Schema" alt="img" class="img-responsive col-sm-12" />
                    </a>
                </div>
                <div id="reseredTables">@Html.Partial("_ReservedTablesPartial")</div>
            </div>

            <div class="panel-footer">
                КОНТАКТНАЯ ИНФОРМАЦИЯ
                <div class="form-group">
                    <div class="input-group col-sm-12">
                        <input id="name" type="text" class="form-control input-sm" name="name" placeholder="Имя">
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group col-sm-12">
                        <input id="surname" type="text" class="form-control input-sm" name="phone" placeholder="Телефон">
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group col-sm-12">
                        <input id="surname" type="text" class="form-control input-sm" name="email" placeholder="E-mail адрес">
                    </div>
                </div>
                <div class="form-group">
                    <button type="button" class="btn btn-danger btn-block">Зарезервировать</button>
                </div>
            </div>
            </div>
        </div>
    </div>

<div class="modal fade" id="SchemaModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        @Html.Action("SchemaReservedTables", "Restaurant", new { id =Model.Id })
    </div>
</div> 